\hypertarget{system_8h_source}{}\doxysection{system.\+h}
\label{system_8h_source}\index{/home/maximillian/Desktop/MAMA/include/system.h@{/home/maximillian/Desktop/MAMA/include/system.h}}
\mbox{\hyperlink{system_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef \_SYSTEM\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define \_SYSTEM\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#define NULL 0}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{comment}{// Suppress 'unused parameter' warnings/errors}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#define no\_warn(p) if (p) while (1) break}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{comment}{// Allows compilation with gcc -\/std=c89}}
\DoxyCodeLine{10 \textcolor{comment}{// May also help avoid naming conflicts}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define asm \_\_asm\_\_}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#define volatile \_\_volatile\_\_}}
\DoxyCodeLine{13 }
\DoxyCodeLine{14 \textcolor{preprocessor}{\#define sti()  asm volatile ("{}sti"{}}::)  \textcolor{comment}{//turn irqs off}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#define cli()  asm volatile ("{}cli"{}}::)  \textcolor{comment}{//turn irqs on}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define nop()  asm volatile ("{}nop"{}}::)  \textcolor{comment}{//skip cycle}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#define hlt()  asm volatile ("{}hlt"{}}::)  \textcolor{comment}{//halt}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#define iret() asm volatile ("{}iret"{}}::) \textcolor{comment}{//interrupt return}}
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{preprocessor}{\#define GDT\_CS\_ID 0x01 }\textcolor{comment}{//kernel code segment ID}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#define GDT\_DS\_ID 0x02 }\textcolor{comment}{//kernel data segment ID}}
\DoxyCodeLine{22 }
\DoxyCodeLine{23 \textcolor{comment}{/* System Types */}}
\DoxyCodeLine{24 \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}   \mbox{\hyperlink{system_8h_a7c94ea6f8948649f8d181ae55911eeaf}{size\_t}};}
\DoxyCodeLine{25 \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}  \mbox{\hyperlink{system_8h_a1026e682ffdadc1701c42cd44ce9efcf}{u8int}};}
\DoxyCodeLine{26 \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{short} \mbox{\hyperlink{system_8h_a863d9497073aad2b991aeab2211d87af}{u16int}};}
\DoxyCodeLine{27 \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long}  \mbox{\hyperlink{system_8h_a757de76cafbcddaac0d1632902fe4cb8}{u32int}};}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{comment}{/* Time */}}
\DoxyCodeLine{30 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\{}
\DoxyCodeLine{31   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdate__time_ac43a109ccc7f3c46840afa8a30dc51f1}{sec}};}
\DoxyCodeLine{32   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdate__time_af93fdd2e01117a0171a2583718166d2a}{min}};}
\DoxyCodeLine{33   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdate__time_a4331b46df7b89763a85ea97a246c4ee2}{hour}};}
\DoxyCodeLine{34   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdate__time_aa021771ff83fe860afaaf158932fcb15}{day\_w}};}
\DoxyCodeLine{35   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdate__time_a72ee4f3a6a9970e58861c868bc676ba2}{day\_m}};}
\DoxyCodeLine{36   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdate__time_ad89b6054376708a35bc1c0a186c808ca}{day\_y}};}
\DoxyCodeLine{37   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdate__time_a6e8a5baa74a619330ba9925cf0baf250}{mon}};}
\DoxyCodeLine{38   \textcolor{keywordtype}{int} \mbox{\hyperlink{structdate__time_ae96e2e4cc09780eaac04038e12bbe06b}{year}};}
\DoxyCodeLine{39 \} \mbox{\hyperlink{structdate__time}{date\_time}};}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{comment}{/* Test if interrupts are on */}}
\DoxyCodeLine{42 \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{int} irq\_on()}
\DoxyCodeLine{43 \{}
\DoxyCodeLine{44   \textcolor{keywordtype}{int} f;}
\DoxyCodeLine{45   \textcolor{keyword}{asm} \textcolor{keyword}{volatile} (\textcolor{stringliteral}{"{}pushf\(\backslash\)n\(\backslash\)t"{}}}
\DoxyCodeLine{46         \textcolor{stringliteral}{"{}popl \%0"{}}}
\DoxyCodeLine{47         : \textcolor{stringliteral}{"{}=g"{}}(f));}
\DoxyCodeLine{48   \textcolor{keywordflow}{return} f \& (1 << 9);}
\DoxyCodeLine{49 \}}
\DoxyCodeLine{50 }
\DoxyCodeLine{51 \textcolor{keywordtype}{void} \mbox{\hyperlink{system_8h_abdb09834267dd4a2a0d07d43ca4d230d}{klogv}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *msg);}
\DoxyCodeLine{52 \textcolor{keywordtype}{void} \mbox{\hyperlink{system_8h_aff8473f901d828d76d3548130731c41d}{kpanic}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *msg);}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
